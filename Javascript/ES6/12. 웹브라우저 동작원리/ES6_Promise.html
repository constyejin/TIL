<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES6 Promise</title>
</head>
<body>
  <script>
    // 프로미스 : 성공 / 실패 판정 기계 (일종의 object)
    var 프로미스 = new Promise(function(resolve, reject){
      // 성공 판정 내리는 법
      // resolve(); // .then 실행
      // 실패 판정 내리는 법
      // reject(); // .catch 실행

      // 1+1 연산이 끝나면 resolve 판정을 내려준다. (.then 실행)
      var plus = 1 + 1;
      // 성공 결과가 .then 함수까지 전해진다.
      // resolve(plus);
      // reject();

      // 1초 후에 성공을 판정하는 Promise
      setTimeout(function(){
        resolve(plus);
      },1000)
    });
    // 프로미스가 성공일 경우 실행할 코드 (콜백함수랑 비슷하나 기능이 더 많음.)
    // .catch => 실패할 경우 코드 실행
    // .finally => 성공이든, 실패든 뭔가 일어났을 때 코드 실행

    프로미스.then(function(result){
      console.log(result + '성공!')
    }).catch(function(){
      console.log('실패!')
    })

    // Promise의 3가지 상태
    // 1. 성공하면 <resolved>
    // 2. 판정 대기중이면 <pending>
    // 3. 실패하면 <rejected>

    // Promise에 대한 오해
    // 동기적 처리 -> 비동기적 처리로 바꿔주는 문법이 아님 (전혀 상관 X)
    // $ajax.done(function(){})
    // fetch() -> promise를 return한다.
  </script>
</body>
</html>
