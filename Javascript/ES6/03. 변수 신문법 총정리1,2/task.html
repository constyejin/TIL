<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>변수 연습문제 6개</title>
</head>
<style>
  div {
    display: none;
  }
</style>
<body>
  <div>모달창1</div>
  <div>모달창2</div>
  <div>모달창3</div>

  <button>버튼1</button>
  <button>버튼2</button>
  <button>버튼3</button>
  <script>
    // 1~4. 다음 코드의 콘솔창 출력 결과는?

    // * Javascript hosting 때문에 함수 생성 전에 먼저 함수 호출 가능함.
    // 문제 1
    // 함수();
    // function 함수() {
    //   console.log(안녕);
    // * let 안녕도 Hoisting 되자만, let,const는 Hoisting시 자동으로 undefined 할당 안됨.
    // * var : Hoisting시 undefined 할당 O
    // * let, const : Hoisting시 undefined 할당 X (temporal deadzone / uninitialized 라고 부른다.)
  
    //   let 안녕 = 'Hello!';
    // }


    // 문제 2
    // 함수();
    // * function 함수(){} : 전부 Hoisting
    // * var 함수 = function(){} : 선언 부부만 Hoisting
    // var 함수 = function() {
    //   console.log(안녕);
    //   var 안녕 = 'Hello!';
    // }


    // 문제 3
    // let a = 1;
    // * 함수를 생성만 하고, 실행 하지 않았음.
    // var 함수 = function() {
    //   a = 2;
    // }
    // console.log(a);


    // 문제 4
    // let a = 1;
    // var b = 2;
    // window.a = 3;
    // window.b = 4;

    // console.log(a + b); // 5(1 + 4)


    // 문제 5
    // var : 함수 레벨 스코프(var는 for문에서 스코프를 따로 갖지 않기 때문에 전역변수의 값이 변경될 수 있다.)
    // let : 블록(if, for, while등 중괄호로 묶은 부분) 레벨 스코프
    // let은 ㄹor문 안에서 어떤걸 해도 전역변수에 영향을 미치지 않는다. 
    // for(let i = 1; i < 6; i++) {
      //   setTimeout(function(){
      // * 바로 실행되는 코드가 아니라 반복문이 돌고나서 n초 후에 실행
      // * 반복문이 다 실행되고 전역변수로 남아있음 => 5
    //     console.log(i);
    //   }, i * 1000)
    // }


    // 문제 6
    // let buttons = document.querySelectorAll('button');
    // let modals = document.querySelectorAll('div');
    
    // buttons.forEach(function(btn, i){
    //   btn.addEventListener('click', function(){
    //     modals[i].style.display = 'block';
    //   })
    // })

    // 풀이
    var buttons = document.querySelectorAll('button');
    var modals = document.querySelectorAll('div');

    for(let i = 0; i < 3; i++) {
      console.log(i)
      // 1. 반복문 내 코드 3번 돌림
      // 2. 이벤트리스터 내부 코드는 나중에 실행함 => 버튼을 클릭하면 내부 코드 실행
      // 3. 이제 i값을 실제 숫자로 채우려고하니, 반복문 다 돌고 남은 전역변수 i = 3만 남음
      buttons[i].addEventListener('click', function(){
        modals[i].style.display = 'block';
      })
    }
  </script>
</body>
</html>
